{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/charl/Documents/Freelance/portfolio/reactapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/charl/Documents/Freelance/portfolio/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\charl\\\\Documents\\\\Freelance\\\\portfolio\\\\reactapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{Button,Collapse,Box,TextField,makeStyles}from'@material-ui/core';import SendIcon from'@mui/icons-material/Send';import LoadingButton from'@mui/lab/LoadingButton';import DoneIcon from'@mui/icons-material/Done';import CloseIcon from'@mui/icons-material/Close';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({root:{display:'flex',justifyContent:'center',alignItems:'center',backgroundImage:\"linear-gradient(to bottom right, #00C9FF, #92FE9D)\",boxShadow:'2px 2px 12px 2px grey',borderRadius:'10px',marginBottom:'5%',color:'white'},send:{boxShadow:'2px 2px 12px 2px grey',borderRadius:'10px',marginBottom:'5%'}});function ContactButton(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),display=_useState2[0],setDisplay=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),mailError=_useState6[0],setMailError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),messageError=_useState8[0],setMessageError=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),disabled=_useState10[0],setDisabled=_useState10[1];var _useState11=useState(/*#__PURE__*/_jsx(SendIcon,{})),_useState12=_slicedToArray(_useState11,2),statusIcon=_useState12[0],setStatusIcon=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),mail=_useState14[0],setMail=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),message=_useState16[0],setMessage=_useState16[1];var classes=useStyles();var validEmail=new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);var validateEmail=function validateEmail(e){console.log(e);if(validEmail.test(e)){setMailError(false);setMessageError(\"\");setDisabled(false);}else if(validEmail.test(e)===false&&e.length>0){setMailError(true);setMessageError(\"Email incorrect\");setDisabled(true);}else{setMailError(false);setMessageError(\"\");setDisabled(true);}};var sendMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(mail,message){var request,answer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/send\",{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:\"mail=\".concat(mail,\"&message=\").concat(message)});case 2:request=_context.sent;_context.next=5;return request.json();case 5:answer=_context.sent;console.log(answer);if(answer.response===true){setLoading(false);setStatusIcon(/*#__PURE__*/_jsx(DoneIcon,{style:{color:'green'}}));}else{setLoading(false);setStatusIcon(/*#__PURE__*/_jsx(CloseIcon,{style:{color:'red'}}));}case 8:case\"end\":return _context.stop();}}},_callee);}));return function sendMessage(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){setDisplay(!display);},className:classes.root,children:\" Lancer une conversation \"}),/*#__PURE__*/_jsx(Collapse,{in:display,style:{width:'70%'},children:/*#__PURE__*/_jsxs(Box,{component:\"form\",style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(TextField,{id:\"email\",label:\"Ton email\",autoComplete:\"off\",style:{marginBottom:'3%',width:'30%'},onChange:function onChange(e){setMail(e.target.value);setStatusIcon(/*#__PURE__*/_jsx(SendIcon,{}));validateEmail(e.target.value);},value:mail,error:mailError,helperText:messageError}),/*#__PURE__*/_jsx(TextField,{id:\"message\",label:\"Ton message\",autoComplete:\"off\",variant:\"filled\",multiline:true,rows:10,style:{width:'80%',marginBottom:'5%'},onChange:function onChange(e){setMessage(e.target.value);setStatusIcon(/*#__PURE__*/_jsx(SendIcon,{}));},value:message}),/*#__PURE__*/_jsx(LoadingButton,{loading:loading,size:\"large\",loadingPosition:\"end\",endIcon:statusIcon,variant:\"outlined\",onClick:function onClick(){setLoading(!loading);sendMessage(mail,message);},className:classes.send,disabled:disabled,children:\"Envoyer\"})]})})]});}export default ContactButton;","map":{"version":3,"sources":["C:/Users/charl/Documents/Freelance/portfolio/reactapp/src/components/ContactButton.js"],"names":["React","useState","Button","Collapse","Box","TextField","makeStyles","SendIcon","LoadingButton","DoneIcon","CloseIcon","useStyles","root","display","justifyContent","alignItems","backgroundImage","boxShadow","borderRadius","marginBottom","color","send","ContactButton","setDisplay","loading","setLoading","mailError","setMailError","messageError","setMessageError","disabled","setDisabled","statusIcon","setStatusIcon","mail","setMail","message","setMessage","classes","validEmail","RegExp","validateEmail","e","console","log","test","length","sendMessage","fetch","method","headers","body","request","json","answer","response","flexDirection","width","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Collapse, Box, TextField, makeStyles } from '@material-ui/core'\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport DoneIcon from '@mui/icons-material/Done';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundImage: \"linear-gradient(to bottom right, #00C9FF, #92FE9D)\",\r\n        boxShadow: '2px 2px 12px 2px grey',\r\n        borderRadius: '10px',\r\n        marginBottom: '5%',\r\n        color: 'white',\r\n\r\n    },\r\n    send : {\r\n        boxShadow: '2px 2px 12px 2px grey',\r\n        borderRadius: '10px', \r\n        marginBottom: '5%',\r\n    },\r\n});\r\n\r\n\r\nfunction ContactButton() {\r\n\r\n    const [display, setDisplay] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [mailError, setMailError] = useState(\"\");\r\n    const [messageError, setMessageError] = useState(\"\");\r\n    const [disabled, setDisabled] = useState(true)\r\n    const [statusIcon, setStatusIcon] = useState(<SendIcon />);\r\n    const [mail, setMail] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const classes = useStyles();\r\n\r\n    const validEmail = new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) ;\r\n\r\n\r\n     const validateEmail = (e) => {\r\n         console.log(e)\r\n         if (validEmail.test(e)) {\r\n            setMailError(false);\r\n            setMessageError(\"\");\r\n            setDisabled(false);\r\n        } else if (validEmail.test(e) === false && e.length > 0) {\r\n            setMailError(true);\r\n            setMessageError(\"Email incorrect\"); \r\n            setDisabled(true)\r\n        } else {\r\n            setMailError(false);\r\n            setMessageError(\"\"); \r\n            setDisabled(true)\r\n        }\r\n\r\n     };\r\n\r\n    const sendMessage = async(mail, message) => {\r\n\r\n        let request = await fetch(\"/send\",\r\n        {\r\n            method: 'POST',\r\n            headers: {'Content-Type':'application/x-www-form-urlencoded'},\r\n            body: `mail=${mail}&message=${message}`\r\n           }\r\n          );\r\n\r\n        let answer = await request.json()\r\n        console.log(answer)\r\n        if(answer.response === true) {  \r\n        setLoading(false)  \r\n        setStatusIcon(<DoneIcon style={{color: 'green'}} />)\r\n        } else {\r\n        setLoading(false)  \r\n        setStatusIcon(<CloseIcon style={{color: 'red'}} />)  \r\n        }    \r\n    }\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', width: '100%' }}>\r\n            <Button variant=\"contained\" onClick={() => {setDisplay(!display)}} className={classes.root}> Lancer une conversation </Button>\r\n            <Collapse in={display} style={{ width: '70%' }} >\r\n                <Box component=\"form\" style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}  >\r\n                    <TextField\r\n                        id=\"email\"\r\n                        label=\"Ton email\"\r\n                        autoComplete=\"off\"\r\n                        style={{ marginBottom: '3%', width: '30%' }}\r\n                        onChange={(e) => {setMail(e.target.value); setStatusIcon(<SendIcon />); validateEmail(e.target.value)}}\r\n                        value={mail}\r\n                        error={mailError}\r\n                        helperText={messageError}\r\n                    />\r\n                    <TextField\r\n                        id=\"message\"\r\n                        label=\"Ton message\"\r\n                        autoComplete=\"off\"\r\n                        variant=\"filled\"\r\n                        multiline\r\n                        rows={10}\r\n                        style={{ width: '80%', marginBottom: '5%' }}\r\n                        onChange={(e) => {setMessage(e.target.value); setStatusIcon(<SendIcon />)}}\r\n                        value={message}\r\n                    />\r\n                    <LoadingButton\r\n                        loading={loading}\r\n                        size=\"large\"\r\n                        loadingPosition=\"end\"\r\n                        endIcon={statusIcon}\r\n                        variant=\"outlined\"\r\n                        onClick={() =>{setLoading(!loading); sendMessage(mail, message)}}\r\n                        className={classes.send}\r\n                        disabled={disabled}\r\n                    >\r\n                    Envoyer\r\n                    </LoadingButton>\r\n                </Box>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactButton;"]},"metadata":{},"sourceType":"module"}